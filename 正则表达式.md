# 正则表达式

## 正则表达式的概念

正则表达式(Regulary Eexpression)

用某种模式去匹配一类字符串的公式，主要用来描述字符串匹配的工具。

## 正则表达式的使用场景

1. 批量提取/替换有规律的字符串
2. 在各种高级的文鳊编辑器中的使用
3. 在各类办公软件(office等)中使用
4. 各种开发语言中的使用
5. 用户输入的合法性验证
6. 模板引擎的标签库开发
7. 网络爬虫(抓取机器人)的开发
8. 批量的文本高效处理

## 正则表达式的测试工具

有专门的软件，但是没必要

在线测试工具：http://tool.chinaz.com/regex/

## 限定符

?表示前一个的字符可以匹配0个或1个字符。

*表示前一个的字符可以匹配0个或多个字符。

+表示前一个的字符可以匹配1个或以上的字符。

{}表示前一个字符出现的次数，如{n}则表示出现n次，{m, n}则表示出现的次数在[m, n]范围内，{m, }则表示出现次数超过m次。



注意：上面的只能匹配前一个字符。若想匹配多个字符，则需要使用()括起来。如(ab)+，(abc)?等



## 运算符

| : or运算符  (dog |cat)则会匹配dog 或者 cat

[] : 若需要匹配可能的结果很多时时，使用|则需要写很长很长的OR判断，为此，可以使用[]。如[abc]表示这个位置的字符只能是a，b，c中的一个，其仍可以使用限定符进行限制，如[abc]。此外还可以指定符号的范围: [a-z]表示所有的小写字母[a-zA-Z]表示所有英文字母[a-zA-Z0-9]表示所有的英文和数字。在[]中使用\^表示非的意思，如[\^0-9]表示所有非数字的字符



## 元字符

元字符是指，正则表达式预先设计了部分供用户使用的一些常用的字符类型

| 元字符 | 说明                                      |
| ------ | ----------------------------------------- |
| .      | 匹配除换行以外的任意字符                  |
| ^      | 匹配字符串的开始                          |
| $      | 匹配字符串的结尾                          |
| \w     | 匹配字母或数字或下划线 等同于 [a-zA-Z0-9] |
| \s     | 匹配空白字符包括制表空格换行等            |
| \d     | 匹配数字 等同于[0-9]                      |

>其中\小写字母表示匹配这些字符，\大写表示取反，即匹配非这些字符



## 正则表达式的高级概念

正则匹配中，默认使用贪婪匹配，可以在匹配中使用?，切换成懒惰匹配

例如

对于文本:

```html
<span><b> This is a sample text</b></span>
```

若使用\<.+\>则会匹配整段文本，因为.包含了>，默认使用贪婪匹配，会匹配最长的那段。

这时可以使用<.+?> 则可以匹配出下列结果

```html
<span>
<b>
</b>
</span>
```

